# âœ… FLOW ÄÄ‚NG KÃ WALK-IN - GIáº¢I THÃCH RÃ• RÃ€NG

## ğŸ¯ FLOW ÄÃšNG

### **BÆ°á»›c 1: VÃ o trang "ÄÄƒng kÃ½ khÃ¡m Walk-in"**
```
URL: /schedule
TiÃªu Ä‘á»: "ÄÄƒng kÃ½ khÃ¡m Walk-in" (náº¿u lÃ  Receptionist)
```

**MÃ n hÃ¬nh:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ÄÄƒng kÃ½ khÃ¡m Walk-in            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ BÃ¡c sÄ©: [BS.Vanh Le - Máº¯t â–¼]   â”‚
â”‚ NgÃ y: [31/10/2025]              â”‚
â”‚ [HÃ´m nay]                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ BS.Vanh Le                   31 â”‚
â”‚ Máº¯t                  ThÃ¡ng 10   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 08:00  ÄÃ£ qua (khÃ´ng thá»ƒ Ä‘áº·t)   â”‚
â”‚ 09:00  ÄÃ£ qua (khÃ´ng thá»ƒ Ä‘áº·t)   â”‚
â”‚ 10:00  ÄÃ£ qua (khÃ´ng thá»ƒ Ä‘áº·t)   â”‚
â”‚ 11:00  ÄÃ£ qua (khÃ´ng thá»ƒ Ä‘áº·t)   â”‚
â”‚ 12:00  Slot trá»‘ng               â”‚
â”‚        [+ ThÃªm bá»‡nh nhÃ¢n] â† NÃšT XANH LÃ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **BÆ°á»›c 2: Click nÃºt "ThÃªm bá»‡nh nhÃ¢n" (mÃ u xanh lÃ¡)**
```
Click vÃ o nÃºt xanh lÃ¡ á»Ÿ slot trá»‘ng
â†’ Chuyá»ƒn Ä‘áº¿n trang form
```

### **BÆ°á»›c 3: Form "ThÃªm Bá»‡nh nhÃ¢n Walk-in"**
```
URL: /schedule/add-patient?doctor_id=X&date=2025-10-31&time=12:00:00
```

**MÃ n hÃ¬nh:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ThÃªm Bá»‡nh nhÃ¢n Walk-in          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ BÃ¡c sÄ©: BS.Vanh Le - Máº¯t        â”‚
â”‚ Thá»i gian: 31/10/2025 - 12:00   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Loáº¡i khÃ¡m: *                    â”‚
â”‚ â— KhÃ¡m thÆ°á»ng                   â”‚
â”‚ â—‹ KhÃ¡m theo gÃ³i                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ... (form tiáº¿p theo)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **BÆ°á»›c 4a: Náº¿u chá»n "KhÃ¡m thÆ°á»ng"**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Loáº¡i khÃ¡m: â— KhÃ¡m thÆ°á»ng        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Loáº¡i bá»‡nh nhÃ¢n: *               â”‚
â”‚ â— Bá»‡nh nhÃ¢n cÅ©                  â”‚
â”‚ â—‹ Bá»‡nh nhÃ¢n má»›i                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Chá»n bá»‡nh nhÃ¢n: [Dropdown â–¼]   â”‚
â”‚ LÃ½ do khÃ¡m: [____________]      â”‚
â”‚ [Há»§y] [XÃ¡c nháº­n thÃªm]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### **BÆ°á»›c 4b: Náº¿u chá»n "KhÃ¡m theo gÃ³i"**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Loáº¡i khÃ¡m: â— KhÃ¡m theo gÃ³i      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Chá»n gÃ³i khÃ¡m: *                â”‚
â”‚ [GÃ³i khÃ¡m tá»•ng quÃ¡t - Nam â–¼]   â”‚
â”‚                                 â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ GÃ³i khÃ¡m tá»•ng quÃ¡t - Nam    â”‚ â”‚
â”‚ â”‚ âœ“ Äiá»‡n tim ECG              â”‚ â”‚
â”‚ â”‚ âœ“ XÃ©t nghiá»‡m mÃ¡u            â”‚ â”‚
â”‚ â”‚ Tá»•ng: 6,180,000 Ä‘           â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ LÃ½ do khÃ¡m: [____________]      â”‚
â”‚ [Há»§y] [XÃ¡c nháº­n thÃªm]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

KHÃ”NG cÃ³ "Loáº¡i bá»‡nh nhÃ¢n" âœ…
KHÃ”NG cÃ³ "Chá»n bá»‡nh nhÃ¢n" âœ…
```

---

## âš ï¸ Váº¤N Äá»€ HIá»†N Táº I

### **Váº¥n Ä‘á» 1: KhÃ´ng tháº¥y nÃºt "ThÃªm bá»‡nh nhÃ¢n"**

**NguyÃªn nhÃ¢n:**
- ChÆ°a login vá»›i role Receptionist
- Hoáº·c Ä‘ang xem slot Ä‘Ã£ qua (isPast = true)

**Fix:**
```
1. Login vá»›i role Receptionist
2. Chá»n ngÃ y hÃ´m nay hoáº·c tÆ°Æ¡ng lai
3. NÃºt "ThÃªm bá»‡nh nhÃ¢n" sáº½ hiá»‡n á»Ÿ slot trá»‘ng
```

### **Váº¥n Ä‘á» 2: Form khÃ´ng cÃ³ "Loáº¡i khÃ¡m"**

**NguyÃªn nhÃ¢n:**
- Cache trÃ¬nh duyá»‡t chÆ°a reload file má»›i
- Hoáº·c Ä‘ang xem file cÅ©

**Fix:**
```
1. Hard refresh: Ctrl + Shift + R
2. Hoáº·c xÃ³a cache: F12 â†’ Application â†’ Clear storage
```

---

## ğŸ“¸ SO SÃNH

### **áº¢nh 1 (Trang chá»n bÃ¡c sÄ©):**
```
ÄÃ¢y lÃ  trang /schedule
- Chá»n bÃ¡c sÄ©
- Chá»n ngÃ y
- Xem lá»‹ch lÃ m viá»‡c
- Click "ThÃªm bá»‡nh nhÃ¢n" â†’ Chuyá»ƒn sang form
```

### **áº¢nh 2 (Trang form - THIáº¾U "Loáº¡i khÃ¡m"):**
```
ÄÃ¢y lÃ  trang /schedule/add-patient
- THIáº¾U: Loáº¡i khÃ¡m (ThÆ°á»ng/GÃ³i)
- Chá»‰ cÃ³: BÃ¡c sÄ©, NgÃ y, Lá»‹ch lÃ m viá»‡c

â†’ File cÅ© chÆ°a cÃ³ "Loáº¡i khÃ¡m"!
â†’ Cáº§n hard refresh!
```

---

## âœ… CHECKLIST

### **Kiá»ƒm tra trang /schedule:**
- [ ] Login vá»›i role Receptionist
- [ ] TiÃªu Ä‘á» hiá»‡n "ÄÄƒng kÃ½ khÃ¡m Walk-in"
- [ ] Chá»n bÃ¡c sÄ© + ngÃ y
- [ ] Tháº¥y nÃºt "ThÃªm bá»‡nh nhÃ¢n" (mÃ u xanh lÃ¡) á»Ÿ slot trá»‘ng

### **Kiá»ƒm tra trang /schedule/add-patient:**
- [ ] Click "ThÃªm bá»‡nh nhÃ¢n"
- [ ] Form hiá»‡n tiÃªu Ä‘á» "ThÃªm Bá»‡nh nhÃ¢n Walk-in"
- [ ] Tháº¥y "Loáº¡i khÃ¡m: â— KhÃ¡m thÆ°á»ng â—‹ KhÃ¡m theo gÃ³i"
- [ ] Click "KhÃ¡m theo gÃ³i" â†’ áº¨n "Chá»n bá»‡nh nhÃ¢n", hiá»‡n "Chá»n gÃ³i"

---

## ğŸš€ HÃ€NH Äá»˜NG

### **1. Kiá»ƒm tra role:**
```php
// Trong trang /schedule
var_dump($_SESSION['role']); // Pháº£i ra: "receptionist"
```

### **2. Hard refresh:**
```
Ctrl + Shift + R
```

### **3. Kiá»ƒm tra file:**
```
Má»Ÿ: app/Views/schedule/add_patient.php
TÃ¬m: Loáº¡i khÃ¡m
â†’ Pháº£i cÃ³ radio button "KhÃ¡m thÆ°á»ng" / "KhÃ¡m theo gÃ³i"
```

### **4. Test:**
```
1. VÃ o /schedule
2. Chá»n bÃ¡c sÄ© + ngÃ y
3. Click "ThÃªm bá»‡nh nhÃ¢n" (nÃºt xanh lÃ¡)
4. Kiá»ƒm tra form cÃ³ "Loáº¡i khÃ¡m" khÃ´ng
5. Click "KhÃ¡m theo gÃ³i"
6. Kiá»ƒm tra "Chá»n bá»‡nh nhÃ¢n" cÃ³ áº¨N khÃ´ng
```

---

## ğŸ“ FILES

1. âœ… `app/Views/schedule/index.php` - Trang chá»n bÃ¡c sÄ© (cÃ³ nÃºt "ThÃªm bá»‡nh nhÃ¢n")
2. âœ… `app/Views/schedule/add_patient.php` - Form Ä‘Äƒng kÃ½ (cÃ³ "Loáº¡i khÃ¡m")

---

**Hard refresh vÃ  test theo checklist!** ğŸš€

Náº¿u váº«n khÃ´ng tháº¥y nÃºt "ThÃªm bá»‡nh nhÃ¢n", chá»¥p mÃ n hÃ¬nh Console (F12) cho tÃ´i xem!
